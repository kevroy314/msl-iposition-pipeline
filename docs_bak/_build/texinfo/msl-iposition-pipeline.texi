\input texinfo   @c -*-texinfo-*-
@c %**start of header
@setfilename msl-iposition-pipeline.info
@documentencoding UTF-8
@ifinfo
@*Generated by Sphinx 1.4.6.@*
@end ifinfo
@settitle msl-iposition-pipeline Documentation
@defindex ge
@paragraphindent 0
@exampleindent 4
@finalout
@dircategory Miscellaneous
@direntry
* msl-iposition-pipeline: (msl-iposition-pipeline.info). One line description of project.
@end direntry

@definfoenclose strong,`,'
@definfoenclose emph,`,'
@c %**end of header

@copying
@quotation
msl-iposition-pipeline 0.0.4, Jun 06, 2017

Kevin Horecka

Copyright @copyright{} 2017, Kevin Horecka
@end quotation

@end copying

@titlepage
@title msl-iposition-pipeline Documentation
@insertcopying
@end titlepage
@contents

@c %** start of user preamble

@c %** end of user preamble

@ifnottex
@node Top
@top msl-iposition-pipeline Documentation
@insertcopying
@end ifnottex

@c %**start of body
@anchor{index doc}@anchor{0}
@c msl-iposition-pipeline documentation master file, created by
@c sphinx-quickstart on Tue Jun  6 18:33:56 2017.
@c You can adapt this file completely to your liking, but it should at least
@c contain the root `toctree` directive.

Contents:

@menu
* Memory Systems Lab iPosition Data Pipeline:: 
* Indices and tables:: 

@detailmenu
 --- The Detailed Node Listing ---

Memory Systems Lab iPosition Data Pipeline

* Install:: 
* Updating:: 
* Usage:: 
* Command Line Options:: 
* Command Line Arguments:: 
* Advanced usage example:: 
* Visualization of Single Trials:: 
* Visualization Usage Example:: 
* Scripted Usage:: 

@end detailmenu
@end menu

@node Memory Systems Lab iPosition Data Pipeline,Indices and tables,Top,Top
@anchor{index welcome-to-msl-iposition-pipeline-s-documentation}@anchor{1}@anchor{index memory-systems-lab-iposition-data-pipeline}@anchor{2}
@unnumbered Memory Systems Lab iPosition Data Pipeline


This data pipeline is meant for the processing of iPosition data. It will output all the pre-2017 metrics as well as the newer metrics. It has a large number of options which will be enumerated in this readme. It can really run on any spatial/temporal reconstruction data whose outputs are formatted properly (TSV).

@menu
* Install:: 
* Updating:: 
* Usage:: 
* Command Line Options:: 
* Command Line Arguments:: 
* Advanced usage example:: 
* Visualization of Single Trials:: 
* Visualization Usage Example:: 
* Scripted Usage:: 

@end menu

@node Install,Updating,,Memory Systems Lab iPosition Data Pipeline
@anchor{index install}@anchor{3}
@chapter Install


Install Git: @indicateurl{https://git-scm.com/downloads} if you don't already have it.

Install Anaconda Python: @indicateurl{https://www.continuum.io/downloads} if you don't already have it.

In a command prompt/terminal, navigate to/create an @strong{empty directory}, then run:

@example
conda create -n iposition python=2.7 scipy --yes
activate iposition
git clone https://github.com/kevroy314/msl-iposition-pipeline/ .
pip install .
@end example

@node Updating,Usage,Install,Memory Systems Lab iPosition Data Pipeline
@anchor{index updating}@anchor{4}
@chapter Updating


To update the script to the latest version navigate to/create an @strong{empty directory}, then run:

@example
activate iposition
git clone https://github.com/kevroy314/msl-iposition-pipeline/ .
pip install --upgrade .
@end example

If you'd like to update without changing the dependencies you can instead, from an @strong{empty directory}, run:

@example
activate iposition
git clone https://github.com/kevroy314/msl-iposition-pipeline/ .
pip install --upgrade . --no-deps
@end example

@node Usage,Command Line Options,Updating,Memory Systems Lab iPosition Data Pipeline
@anchor{index usage}@anchor{5}
@chapter Usage


Note: this section is incomplete and will be updated as new features are added.

@node Command Line Options,Command Line Arguments,Usage,Memory Systems Lab iPosition Data Pipeline
@anchor{index command-line-options}@anchor{6}
@chapter Command Line Options


The easiest way to run the program is in batch mode via the command line. Running

@example
python batch_pipeline.py
@end example

runs the program in default mode (with a directory selection dialog popup).

@node Command Line Arguments,Advanced usage example,Command Line Options,Memory Systems Lab iPosition Data Pipeline
@anchor{index command-line-arguments}@anchor{7}
@chapter Command Line Arguments



@itemize *

@item 
--search_directory - the root directory in which to search for the actual and data coordinate files (actual_coordinates.txt and ###position_data_coordinates.txt, respectively (will prompt with dialog if left empty)

@item 
--num_trials - the number of trials in each file (will be detected automatically if left empty)

@item 
--num_items - the number of items in each trial (will be detected automatically if left empty)

@item 
--pipeline_mode - the mode in which the pipeline should process (default is 3);


@itemize *

@item 
0 for just accuracy+swaps,

@item 
1 for accuracy+deanonymization+swaps,

@item 
2 for accuracy+global transformations+swaps,

@item 
3 for accuracy+deanonymization+global transformations+swaps
@end itemize

@item 
--accuracy_z_value - the z value to be used for accuracy exclusion (default is 1.96, corresponding to 95% confidence)

@item 
--collapse_trials - if 0, one row per trial will be output, otherwise one row per participant will be output (default is 1)

@item 
--dimension - the dimensionality of the data (default is 2)

@item 
--trial_by_trial_accuracy - when not 0, z_value thresholds are used on a trial-by-trial basis for accuracy calculations, when 0, the thresholds are computed then collapsed across an individual's trials (default is 1)

@item 
--prefix_length - the length of the subject ID prefix at the beginning of the data filenames (default is 3)
@end itemize

@node Advanced usage example,Visualization of Single Trials,Command Line Arguments,Memory Systems Lab iPosition Data Pipeline
@anchor{index advanced-usage-example}@anchor{8}
@chapter Advanced usage example


In this example, the "C:\Users Folder\Data" folder and its subfolders will be searched for actual_coordinates.txt and files with length 5 participant IDs followed by position_data_coordinates.txt. Each file will be expected to have 15 trials and 6 items/trial with 3 dimensions each. The accuracy will be computed on a trial by trial basis using a 90% confidence interval. Each trial will be output independently (one per row).

@example
python batch_pipeline.py --search_directory="C:\User Folder\Data" --num_trials=15 --num_items=6 --accuracy_z_value=1.64 --collapse_trials=0 --dimension=3 --trial_by_trial_accuracy=1 --prefix_length=5
@end example

@node Visualization of Single Trials,Visualization Usage Example,Advanced usage example,Memory Systems Lab iPosition Data Pipeline
@anchor{index visualization-of-single-trials}@anchor{9}
@chapter Visualization of Single Trials


Individual trials can be visualized by calling the full_pipeline.py file with appropriate arguments. The required arguments are (in this order):


@itemize *

@item 
actual_coordinates - the path to the file containing the actual coordinates

@item 
data_coordinates - the path to the file containing the data coordinates

@item 
num_trials

@item 
num_items

@item 
line_number
@end itemize

The optional arguments are:


@itemize *

@item 
--pipeline_mode - the mode in which the pipeline should process (default is 3);


@itemize *

@item 
0 for just accuracy+swaps,

@item 
1 for accuracy+deanonymization+swaps,

@item 
2 for accuracy+global transformations+swaps,

@item 
3 for accuracy+deanonymization+global transformations+swaps
@end itemize

@item 
--accuracy_z_value - the z value to be used for accuracy exclusion (default is 1.96, corresponding to 95% confidence)

@item 
--dimension - the dimensionality of the data (default is 2)
@end itemize

@node Visualization Usage Example,Scripted Usage,Visualization of Single Trials,Memory Systems Lab iPosition Data Pipeline
@anchor{index visualization-usage-example}@anchor{a}
@chapter Visualization Usage Example


To visualize the second of participant 101's data (assuming 15 trials and 5 items), the command line should be:

@example
python full_pipeline.py "actual_coordinates.txt" "101position_data_coordinates.txt" 15 5 1
@end example

@node Scripted Usage,,Visualization Usage Example,Memory Systems Lab iPosition Data Pipeline
@anchor{index scripted-usage}@anchor{b}
@chapter Scripted Usage


Each program can be run from another python script. The easiest way to learn to do this is to look at the examples built into the buttom of each script (below the "# Test code" comment).

@node Indices and tables,,Memory Systems Lab iPosition Data Pipeline,Top
@anchor{index indices-and-tables}@anchor{c}
@unnumbered Indices and tables



@itemize *

@item 
genindex

@item 
modindex

@item 
search
@end itemize

@c %**end of body
@bye
